<div class="etapa-container">
  <form [formGroup]="etapaForm" (ngSubmit)="onSubmit()" novalidate class="etapa-container">

    <h5>Nuevo Etapa</h5>

    <!-- Nombre field -->
    <mat-form-field [hideRequiredMarker]="[false]" [floatLabel]="['auto']">
      <input matInput placeholder="Nombre" formControlName="nombre" required>
      <!-- <mat-error *ngIf="!nombre.invalid">Error</mat-error> -->
    </mat-form-field>

    <!-- Descripción field -->
    <mat-form-field [floatLabel]="['auto']">
      <textarea matInput placeholder="Descripción" matTextareaAutosize matAutosizeMaxRows="5" formControlName="descripcion" matAutosizeMinRows="2"></textarea>
    </mat-form-field>

    <!-- Anterior field -->
    <mat-form-field [hideRequiredMarker]="[false]">
      <mat-select placeholder="Seleccionar etapa Anterior" formControlName="anterior" required>
        <!-- <mat-option value="" selected>-None-</mat-option> -->
        <mat-option *ngFor="let etapa of etapas$ | async" [value]="etapa.id">{{ etapa.nombre }}</mat-option>
        <!-- <ng-template ngFor let-etapa [ngForOf]="etapas$ | async"> -->
          <!-- <mat-option *ngIf="etapa.id !== idEtapa " [value]="etapa.id">{{ etapa.nombre }}</mat-option> -->
        <!-- </ng-template> -->
      </mat-select>
    </mat-form-field>

    <!-- Pazo en días -->
    <mat-form-field [floatLabel]="['auto']">
      <input type="number" matInput placeholder="Pazo en días" formControlName="plazo_dias" required>
    </mat-form-field>

    <!-- Tarea Activador -->
    <mat-form-field [floatLabel]="['auto']">
      <input matInput placeholder="Tarea Activador" formControlName="tarea_activador">
    </mat-form-field>

    <!-- Tarea Desactivador -->
    <mat-form-field [floatLabel]="['auto']">
      <input matInput placeholder="Tarea Deactivador" formControlName="tarea_desactivador">
    </mat-form-field>

    <!-- Orden field -->
    <mat-form-field [floatLabel]="['auto']">
      <input type="number" matInput placeholder="Orden" formControlName="orden">
    </mat-form-field>

    <!-- Buttons Actions -->
    <div mat-dialog-actions>
      <button mat-raised-button color="primary" type="submit" [disabled]="!etapaForm.valid" tabindex="0">Aceptar</button>
      <button mat-button type="button" [mat-dialog-close] tabindex="0">Cancelar</button>
    </div>
  </form>
</div>